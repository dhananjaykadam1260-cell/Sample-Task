<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Get Item</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>

<body class="container mt-5" style="max-width: 500px;">

<h2 class="text-center mb-4">Get Item By ID</h2>

<form th:action="@{/items/get}" method="post"
      class="needs-validation" novalidate>

    <div class="mb-3">
        <input
            type="number"
            name="id"
            class="form-control"
            placeholder="Enter Item ID"
            min="1"
            required
            th:classappend="${error != null} ? 'is-invalid' : ''"/>

        <div class="invalid-feedback">
            Please enter a valid Item ID.
        </div>
    </div>

    <button class="btn btn-success w-100 mb-2">
        Get Item
    </button>
</form>

<!-- Home Button -->
<a th:href="@{/}" class="btn btn-secondary w-100 mb-3">
    Go to Home
</a>

<!-- Error Message -->
<div class="alert alert-danger" th:if="${error != null}">
    <span th:text="${error}"></span>
</div>

<!-- Item Details -->
<div class="card mt-3" th:if="${item != null}">
    <div class="card-body">
        <h5 class="card-title" th:text="${item.name}"></h5>
        <p class="card-text" th:text="${item.description}"></p>
        <p class="fw-bold">
            Price: â‚¹<span th:text="${item.price}"></span>
        </p>
    </div>
</div>

<script>
(() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
            }
            form.classList.add('was-validated')
        }, false)
    })
})()
</script>

</body>
</html>
